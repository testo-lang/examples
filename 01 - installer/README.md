# Тестирование процесса устновки и удаления приложения

Для данного примера мы написали "игрушечное" приложение MySuperApp. В этом примере наша главная цель - не само приложение MySuperApp, а его инсталлятор. Мы хотим убедится, что инсталлятор корректно устанавливает и удаляет приложение, а также правильно записывает ключи в реестр.

## Структура каталога
- `dist` - содержит скомпилированный дистрибутив приложения MySuperApp.
- `os_installation.testo` - содержит подготовительную часть тестов, в которой происходит установка операционной системы на виртуальную машину.
- `tests.testo` - содержит те тесты, которые уже непосредственно проверяют работоспособность приложения MySuperApp.

## Какие тесты входят в этот пример?
- Тест `install_my_super_app` - проверяет, что установка программы MySuperApp отрабатывает без ошибок.
- Тест `test_desktop_icon` - проверяет, что приложение MySuperApp корректно запускается с помощью ярлыка на рабочем столе. Таким образом мы убеждаемся, что инсталлятор установил все файлы на свои места.
- Тест `test_context_menu` - проверяет, что приложение MySuperApp запускает через контекстное меню Проводника, которое появилось после установки приложения MySuperApp. Таким образом мы убеждаемся, что инсталлятор корректно записал ключи в реестр.
- Тест `uninstall_my_super_app` - проверяет, что удаление программы MySuperApp отрабатывает без ошибок.

## Как мне запустить этот пример на моей машине?

Во-первых, Вам потребуется скачать данный репозиторий на свой компьютер. Сделать это можно следующей командой:

```
git clone https://github.com/testo-lang/testo-examples.git
```

Во-вторых, Вам необходимо установить на свою машину платформу Testo. Скачать её можно с официального сайта на [странице загрузок](https://testo-lang.ru/downloads). С инструкцией по установке платформы Testo на Вашу операционную систему Вы можете ознакомиться [здесь](https://testo-lang.ru/docs/getting_started/getting_started).

В-третьих, в данном примере мы проверям работу приложения MySuperApp на операционной системе Windows 10. Установка операционной системы также является одним из тестов. Поэтому Вам необходимо скачать установочный образ Windows 10. Сделать это можно на [этой странице](https://www.microsoft.com/ru-ru/software-download/windows10ISO). При выборе языка укажите язык "Английский". Данный пример тестировался с Windows 10 May 2020 Update (build number 10.0.19041). Для других версий Windows 10 возможно потребуется скорректировать тестовый сцераний.

Поздравляем! Теперь Вы готовы запустить данный пример на своей машине. Перейдите в каталог с данным примером и запустите следующию команду:

```
sudo testo run ./tests.testo --param ISO_DIR /path/to/iso/dir
```
