# Тестирование взаимодействия приложения с операционной системой

Для данного примера мы написали "игрушечное" приложение MySuperApp, которое показывет список пользователей в системе, а также умеет создавать новых пользователей. Мы хотим убедиться, что приложение MySuperApp корректно взаимодействует с операционной системой в различных ситуациях. Все эти проверки мы автоматизировали и оформили в виде тестового сценария на языке Testo Lang.

## Структура каталога
- `dist` - содержит скомпилированный дистрибутив приложения MySuperApp.
- `os_installation.testo` - содержит подготовительную часть тестов, в которой происходит установка операционной системы на виртуальную машину.
- `tests.testo` - содержит те тесты, которые уже непосредственно проверяют работоспособность приложения MySuperApp.

## Какие тесты входят в этот пример?
- Тест `run_as_user` - запускает приложение MySuperApp от имени обычного пользователя. Обычный пользователь не имеет полномочий управлять пользователями, о чем и должно сообщить приложение MySuperApp. Однако, просмотр списка пользователей должен работать. Также в этом тесте мы проверим, что пользователи, добавленные через средства операционной системы, отображаются в MySuperApp.
- Тест `run_as_admin` - запускает приложение MySuperApp от имени администратора. В этом тесте мы добавляем нового пользователя уже через MySuperApp и проверяем, что новый пользватель действительно появился в системе.

## Как мне запустить этот пример на моей машине?

Во-первых, Вам потребуется скачать данный репозиторий на свой компьютер. Сделать это можно следующей командой:

```
git clone https://github.com/testo-lang/testo-examples.git
```

Во-вторых, Вам необходимо установить на свою машину платформу Testo. Скачать её можно с официального сайта на [странице загрузок](https://testo-lang.ru/downloads). С инструкцией по установке платформы Testo на Вашу операционную систему Вы можете ознакомиться [здесь](https://testo-lang.ru/docs/getting_started/getting_started).

В-третьих, в данном примере мы проверям работу приложения MySuperApp на операционной системе Windows 10. Установка операционной системы также является одним из тестов. Поэтому Вам необходимо скачать установочный образ Windows 10. Сделать это можно на [этой странице](https://www.microsoft.com/ru-ru/software-download/windows10ISO). При выборе языка укажите язык "Английский". Данный пример тестировался с Windows 10 May 2020 Update (build number 10.0.19041). Для других версий Windows 10 возможно потребуется скорректировать тестовый сцераний.

Поздравляем! Теперь Вы готовы запустить данный пример на своей машине. Перейдите в каталог с данным примером и запустите следующию команду:

```
sudo testo run ./tests.testo --param ISO_DIR /path/to/iso/dir
```
